(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{39:function(e,t,a){e.exports=a(58)},51:function(e,t,a){},52:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(21),c=a.n(l),i=a(24),o=a(12),s=a(33),u=a(8),d=a(34),m=a(28),p=a(35),h=a.n(p),E=a(36),b=a(4),v=a(18),f=a.n(v),y=a(22),g=function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){return{type:"TTYPE_WALLET_EXPENSES",payload:e}},j={email:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TYPE_LOGIN":return Object(b.a)(Object(b.a)({},e),{},{email:n});default:return e}},C=a(38),w={currencies:["USD","CAD","EUR","GBP","ARS","BTC","LTC","JPY","CHF","AUD","CNY","ILS","ETH","XRP"],expenses:[],vixiDeuRuim:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TYPE_WALLET_CORRENCIES":return Object(b.a)(Object(b.a)({},e),{},{currencies:n});case"TTYPE_WALLET_EXPENSES":return Object(b.a)(Object(b.a)({},e),{},{expenses:[].concat(Object(C.a)(e.expenses),[n])});case"DELETE_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{expenses:n});case"ERROR":return Object(b.a)(Object(b.a)({},e),{},{vixiDeuRuim:"Deu ruim na api"});default:return e}},N=Object(u.combineReducers)({user:x,wallet:k}),T={key:"trybe-wallet",storage:h.a,whitelist:["user"]},R=Object(m.a)(T,N),S=Object(u.createStore)(R,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(E.a))),D=Object(m.b)(S),L=(a(51),a(10)),F=a(11),P=a(14),A=a(13),_=a(3),B=a(17),M=a(15),Y=a(20),W=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={email:"",password:"",disabled:!0},e.handleChange=e.handleChange.bind(Object(M.a)(e)),e.ativarButton=e.ativarButton.bind(Object(M.a)(e)),e.click=e.click.bind(Object(M.a)(e)),e}return Object(F.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(B.a)({},a,n),this.ativarButton)}},{key:"ativarButton",value:function(){var e=this.state,t=e.email,a=e.password;t.includes("@")&&t.includes(".com")&&a.length>=6?this.setState({disabled:!1}):this.setState({disabled:!0})}},{key:"click",value:function(){var e=this.props,t=e.actionLogin,a=e.history;t(this.state.email),a.push("/carteira")}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.disabled,n=e.password;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"title-login"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h1",{style:{fontSize:"50px"}}," Trybe wallet  "),r.a.createElement(Y.a,{style:{fontSize:"30px"}})),r.a.createElement("h1",{style:{fontSize:"54px",marginRight:"30px",marginTop:"100px"}},"Fa\xe7a seu login",r.a.createElement("br",null),"na carteira")),r.a.createElement("div",{className:"login-inputs"},r.a.createElement("div",{className:"login-content"},r.a.createElement(Y.a,{className:"svg"}),r.a.createElement("input",{className:"input-name",name:"email","data-testid":"email-input",onChange:this.handleChange,type:"email",placeholder:"Email",value:t}),r.a.createElement("input",{className:"input-name",name:"password","data-testid":"password-input",type:"password",value:n,placeholder:"Senha ",onChange:this.handleChange}),r.a.createElement("button",{className:"bnt",disabled:a,type:"button",onClick:this.click},"Entrar"))))}}]),a}(r.a.Component),z=Object(o.b)(null,(function(e){return{actionLogin:function(t){return e(function(e){return{type:"TYPE_LOGIN",payload:e}}(t))}}}))(W),I=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.walletData.reduce((function(e,t){return e+t.exchangeRates[t.currency].ask*t.value}),0);return r.a.createElement("header",{className:"component-header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null," Trybe wallet "),r.a.createElement(Y.a,{className:"svg-header"})),r.a.createElement("h2",{className:"email","data-testid":"email-field"},"Ol\xe1, ".concat(t)),r.a.createElement("div",{className:"total-field"},r.a.createElement("h3",{"data-testid":"total-field"}," Dispesa Total : ".concat(a.toFixed(2))),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL")))}}]),a}(n.Component),X=Object(o.b)((function(e){return{user:e.user.email,walletData:e.wallet.expenses}}))(I),U=a(37),G=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).removeToList=function(t){var a=e.props,n=a.descriptionExpenses,r=a.deleteDispatch,l=n.filter((function(e){return e.id!==t}));console.log(l),r(l)},e}return Object(F.a)(a,[{key:"render",value:function(){var e=this,t=this.props.descriptionExpenses;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-descripition"},["Descri\xe7\xe3o","Tag","Moeda","M\xe9todo de pagamento","Valor","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Excluir"].map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{className:"expenses",key:t.id,id:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.currency),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name.split("/")[0]),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask*t.value).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{style:{backgroundColor:"red",color:"white",border:"none"},type:"button","data-testid":"delete-btn",onClick:function(){return e.removeToList(t.id)}},r.a.createElement(U.a,null))))}))))}}]),a}(n.Component),J=Object(o.b)((function(e){return{descriptionExpenses:e.wallet.expenses}}),(function(e){return{deleteDispatch:function(t){return e({type:"DELETE_EXPENSE",payload:t})}}}))(G),H=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={id:0,value:"",description:"",currency:"USD",method:"Cart\xe3o de cr\xe9dito",tag:"Alimenta\xe7\xe3o"},e.handleChange=e.handleChange.bind(Object(M.a)(e)),e.click=e.click.bind(Object(M.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){g()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(B.a)({},a,n))}},{key:"click",value:function(){(0,this.props.informationExpenses)(this.state),this.setState((function(e){return{id:e.id+1,value:0,description:""}}))}},{key:"render",value:function(){var e=this.props.moedas,t=this.state,a=t.value,n=t.description,l=t.currency,c=t.method,i=t.tag;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"value"},"valor",r.a.createElement("input",{name:"value",className:"inputs",id:"value","data-testid":"value-input",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description"},"descri\xe7\xe3o",r.a.createElement("input",{name:"description",className:"inputs",type:"text",id:"description","data-testid":"description-input",value:n,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency"},"Moeda",r.a.createElement("select",{name:"currency",className:"inputs",id:"currency","data-testid":"currency-input",value:l,onChange:this.handleChange},e.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"method"},"Metodo de pagamento",r.a.createElement("select",{className:"inputs",id:"method","data-testid":"method-input",name:"method",value:c,onChange:this.handleChange},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"},"tag",r.a.createElement("select",{className:"inputs",name:"tag",id:"tag","data-testid":"tag-input",value:i,onChange:this.handleChange},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{className:"bnt-wallet",onClick:this.click,type:"button"},"Adicionar despesa")),r.a.createElement(J,null))}}]),a}(r.a.Component),V=Object(o.b)((function(e){return{moedas:e.wallet.currencies}}),(function(e){return{informationExpenses:function(t){return e(function(e){return function(){var t=Object(y.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g();case 3:return n=t.sent,t.abrupt("return",a(O(Object(b.a)(Object(b.a)({},e),{},{exchangeRates:n}))));case 7:t.prev=7,t.t0=t.catch(0),a({type:"ERROR"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(H),$=(a(52),function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/carteira",component:V}),r.a.createElement(_.a,{exact:!0,path:"/",component:z}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:S},r.a.createElement(s.a,{loading:null,persistor:D},r.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.7e00af97.chunk.js.map